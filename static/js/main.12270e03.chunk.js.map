{"version":3,"sources":["Components/Modal/Modal.module.css","Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Button/Button.module.css","Components/Searchbar/Searchbar.jsx","Components/ImageGalleryItem/ImageGalleryItem.jsx","Components/ImageGallery/ImageGallery.jsx","Components/Button/Button.jsx","Components/Modal/Modal.jsx","Components/fetch.jsx","Components/App.jsx","index.js","Components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","queryName","handleChange","e","setState","target","value","handleSubmit","preventDefault","trim","toast","warn","props","onSubmit","reset","this","className","s","searchbar","SearchForm","type","SearchFormbutton","SearchFormbuttonlabel","onChange","SearchForminput","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","nameList","modalImageLoad","onToggleMenu","onClick","largeImageURL","ImageGalleryItemimage","src","webformatURL","alt","ImageGallery","arrayQueryList","map","list","index","id","Button","modalRoot","document","querySelector","Modal","hendleKeyDownEsc","code","handleBackdropClick","currentTarget","window","addEventListener","removeEventListener","createPortal","Overlay","image","modalImage","fetchPick","page","fetch","then","response","status","Promise","reject","json","App","arrayList","loading","showModal","largeImg","getLargeImageForModal","data","toggleModal","handleFormSubmit","handleClikLoadMore","prevState","prevProps","newArray","total","hits","catch","error","finally","scrollTo","top","body","clientHeight","behavior","color","height","width","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.12270e03.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__qgr8s\",\"Modal\":\"Modal_Modal__18DJd\",\"image\":\"Modal_image__1rD_T\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem___cP52\",\"ImageGalleryItemimage\":\"ImageGalleryItem_ImageGalleryItemimage__1R6rE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2moXt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2u2BT\"};","import s from \"./Searchbar.module.css\";\nimport React, { Component } from \"react\";\nimport { toast } from \"react-toastify\";\n\nexport class Searchbar extends Component {\n  state = {\n    queryName: \"\",\n  };\n\n  handleChange = (e) => {\n    this.setState({ queryName: e.target.value });\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    if (this.state.queryName.trim() === \"\") {\n      toast.warn(`Введите запрос`);\n    } else {\n      this.props.onSubmit(this.state.queryName);\n\n      this.reset();\n    }\n  };\n\n  reset() {\n    this.setState({ queryName: \"\" });\n  }\n\n  render() {\n    return (\n      <header className={s.searchbar}>\n        <form className={s.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={s.SearchFormbutton}>\n            <span className={s.SearchFormbuttonlabel}>Search</span>\n          </button>\n\n          <input\n            onChange={this.handleChange}\n            value={this.state.queryName}\n            className={s.SearchForminput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","import s from \"./ImageGalleryItem.module.css\";\nimport React from \"react\";\n\nconst ImageGalleryItem = ({ nameList, onToggleMenu, modalImageLoad }) => {\n  return (\n    <li className={s.ImageGalleryItem}>\n      <img\n        onClick={() => modalImageLoad(nameList.largeImageURL)}\n        className={s.ImageGalleryItemimage}\n        src={nameList.webformatURL}\n        alt={nameList.type}\n      />\n    </li>\n  );\n};\n\nexport default ImageGalleryItem;\n","import ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\nimport s from \"./ImageGallery.module.css\";\nimport React from \"react\";\n\nconst ImageGallery = ({ arrayQueryList, onToggleMenu, modalImageLoad }) => {\n  // console.log(arrayQueryList);\n  return (\n    <ul className={s.ImageGallery}>\n      {arrayQueryList.map((list, index) => (\n        <ImageGalleryItem\n          key={list.id + index}\n          nameList={list}\n          onToggleMenu={onToggleMenu}\n          modalImageLoad={modalImageLoad}\n        />\n      ))}\n    </ul>\n  );\n};\n\nexport default ImageGallery;\n","import s from \"./Button.module.css\";\nimport React from \"react\";\n\nconst Button = ({ onClick }) => {\n  return (\n    <button onClick={() => onClick()} className={s.Button} type=\"button\">\n      Load More\n    </button>\n  );\n};\n\nexport default Button;\n","import React, { Component } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport s from \"./Modal.module.css\";\n\nconst modalRoot = document.querySelector(\"#modal-root\");\n\nexport class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.hendleKeyDownEsc);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.hendleKeyDownEsc);\n  }\n\n  hendleKeyDownEsc = (e) => {\n    if (e.code === \"Escape\") {\n      this.props.onToggleMenu();\n    }\n  };\n\n  handleBackdropClick = (e) => {\n    if (e.target === e.currentTarget) {\n      this.props.onToggleMenu();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className={s.Overlay} onClick={this.handleBackdropClick}>\n        <div className={s.Modal}>\n          <img\n            className={s.image}\n            src={this.props.modalImage}\n            alt=\"LargePhoto\"\n          />\n        </div>\n      </div>,\n      modalRoot\n    );\n  }\n}\n\nexport default Modal;\n// <div className={s.Overlay}>\n//   <div className={s.Modal}>\n//     <img src=\"\" alt=\"\" />\n//   </div>\n// </div>\n"," \r\nconst URL = \"https://pixabay.com/api/\";\r\nconst API_KEY = \"24080783-03e8685994000525a28035f2f\";\r\n\r\nfunction fetchPick(queryName, page) {\r\n    return fetch(\r\n        `${URL}?q=${queryName}&key=${API_KEY}&image_type=photo&orientation=horizontal&page=${page}&per_page=12`\r\n    )\r\n        \r\n        .then(response => {\r\n            if (response.status === 404) {\r\n                return Promise.reject(\"Oops, something went wrong\");\r\n            }\r\n           return response.json();     \r\n        });\r\n}\r\n\r\nexport default fetchPick; ","import React, { Component } from \"react\";\nimport Searchbar from \"./Searchbar/Searchbar\";\nimport ImageGallery from \"./ImageGallery/ImageGallery\";\nimport Button from \"./Button/Button\";\nimport Modal from \"./Modal/Modal\";\nimport Loader from \"react-loader-spinner\";\nimport fetchPick from \"./fetch\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\n\nexport class App extends Component {\n  state = {\n    arrayList: [],\n    queryName: \"\",\n    page: 1,\n    loading: false,\n    showModal: false,\n    largeImg: \"\",\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (\n      prevState.queryName !== this.state.queryName ||\n      prevState.page !== this.state.page\n    ) {\n      this.setState({ loading: true });\n     \n      fetchPick(this.state.queryName,this.state.page)\n        .then((newArray) => {\n          if (newArray.total === 0) {\n            toast.warn(`Ничего не найдено`);\n          } else {\n            this.setState((prevState) => ({\n              arrayList: [...prevState.arrayList, ...newArray.hits],\n            }));\n          }\n        })\n        .catch((error) => toast.error(\"Oops, something went wrong\"))\n        .finally(() => this.setState({ loading: false }));\n    }\n    if (prevState.arrayList !== this.state.arrayList && this.state.page !== 1) {\n      window.scrollTo({ top: document.body.clientHeight, behavior: \"smooth\" });\n    }\n  }\n\n  getLargeImageForModal = (data) => {\n    this.toggleModal();\n    this.setState({ largeImg: data });\n  };\n\n  toggleModal = () => {\n    this.setState((state) => ({\n      showModal: !state.showModal,\n    }));\n  };\n\n  handleFormSubmit = (data) => {\n    this.setState({ queryName: data, arrayList: [], page: 1 });\n  };\n\n  handleClikLoadMore = () => {\n    this.setState((prevState) => ({ page: prevState.page + 1 }));\n  };\n\n  render() {\n    return (\n      <div>\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        {this.state.loading && (\n          <Loader type=\"ThreeDots\" color=\"#00BFFF\" height={100} width={100} />\n        )}\n        {this.state.arrayList.length !== 0 && (\n          <ImageGallery\n            modalImageLoad={this.getLargeImageForModal}\n            arrayQueryList={this.state.arrayList}\n            onToggleMenu={this.toggleModal}\n          />\n        )}\n\n        {this.state.arrayList.length !== 0 && (\n          <Button onClick={this.handleClikLoadMore} />\n        )}\n        {this.state.showModal && (\n          <Modal\n            onToggleMenu={this.toggleModal}\n            modalImage={this.state.largeImg}\n          />\n        )}\n        <ToastContainer />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport \"reset-css\";\nimport App from \"./Components/App\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__23Y_V\",\"SearchForm\":\"Searchbar_SearchForm__1YpyO\",\"SearchFormbutton\":\"Searchbar_SearchFormbutton__1eH-e\",\"SearchFormbuttonlabel\":\"Searchbar_SearchFormbuttonlabel__1Ps3w\",\"SearchForminput\":\"Searchbar_SearchForminput__3Y9DO\"};"],"sourceRoot":""}
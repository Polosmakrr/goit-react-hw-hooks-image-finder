{"version":3,"sources":["Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Button/Button.module.css","Components/Searchbar/Searchbar.jsx","Components/ImageGalleryItem/ImageGalleryItem.jsx","Components/ImageGallery/ImageGallery.jsx","Components/Button/Button.jsx","Components/Modal/Modal.jsx","Components/fetch.jsx","Components/App.jsx","index.js","Components/Searchbar/Searchbar.module.css","Components/Modal/Modal.module.css"],"names":["module","exports","Searchbar","onSubmit","useState","queryName","setQueryName","className","s","searchbar","SearchForm","e","preventDefault","trim","toast","warn","type","SearchFormbutton","SearchFormbuttonlabel","onChange","target","value","SearchForminput","autoComplete","autoFocus","placeholder","ImageGalleryItem","nameList","modalImageLoad","onToggleMenu","onClick","largeImageURL","ImageGalleryItemimage","src","webformatURL","alt","ImageGallery","arrayQueryList","map","list","index","id","Button","modalRoot","document","querySelector","Modal","modalImage","useEffect","window","addEventListener","hendleKeyDownEsc","removeEventListener","code","createPortal","Overlay","currentTarget","image","fetchPick","page","fetch","then","response","status","Promise","reject","json","App","arrayList","setArrayList","setPage","loading","setLoading","showModal","setShowModal","largeImg","setLargeImg","newArray","total","hits","scrollTo","top","body","clientHeight","behavior","catch","error","finally","toggleModal","data","color","height","width","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.991a3fb0.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem___cP52\",\"ImageGalleryItemimage\":\"ImageGalleryItem_ImageGalleryItemimage__1R6rE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2moXt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2u2BT\"};","import s from \"./Searchbar.module.css\";\nimport React, { useState } from \"react\";\nimport { toast } from \"react-toastify\";\n\nexport default function Searchbar({onSubmit}) {\n\n  const [queryName, setQueryName] = useState('');\n\n\n  const handleChange = (e) => {\n    setQueryName(e.target.value);\n  };\n\n const handleSubmit = (e) => {\n    e.preventDefault();\n\n    if (queryName.trim() === \"\") {\n\n      toast.warn(`Введите запрос`);\n    } else {\n\n      onSubmit(queryName);\n      setQueryName('');\n    }\n  };\n\n    return (\n      <header className={s.searchbar}>\n        <form className={s.SearchForm} onSubmit={handleSubmit}>\n          <button type=\"submit\" className={s.SearchFormbutton}>\n            <span className={s.SearchFormbuttonlabel}>Search</span>\n          </button>\n\n          <input\n            onChange={handleChange}\n            value={queryName}\n            className={s.SearchForminput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  \n}\n\n","import s from \"./ImageGalleryItem.module.css\";\nimport React from \"react\";\n\nconst ImageGalleryItem = ({ nameList, onToggleMenu, modalImageLoad }) => {\n\n  return (\n    <li className={s.ImageGalleryItem}>\n      <img\n        onClick={() => modalImageLoad(nameList.largeImageURL)}\n        className={s.ImageGalleryItemimage}\n        src={nameList.webformatURL}\n        alt={nameList.type}\n      />\n    </li>\n  );\n};\n\nexport default ImageGalleryItem;\n","import ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\nimport s from \"./ImageGallery.module.css\";\nimport React from \"react\";\n\nconst ImageGallery = ({ arrayQueryList, onToggleMenu, modalImageLoad }) => {\n  return (\n    <ul className={s.ImageGallery}>\n      {arrayQueryList.map((list, index) => (\n        <ImageGalleryItem\n          key={list.id + index}\n          nameList={list}\n          onToggleMenu={onToggleMenu}\n          modalImageLoad={modalImageLoad}\n        />\n      ))}\n    </ul>\n  );\n};\n\nexport default ImageGallery;\n","import s from \"./Button.module.css\";\nimport React from \"react\";\n\nconst Button = ({ onClick }) => {\n  return (\n    <button onClick={() => onClick()} className={s.Button} type=\"button\">\n      Load More\n    </button>\n  );\n};\n\nexport default Button;\n","import React, { useEffect } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport s from \"./Modal.module.css\";\n\nconst modalRoot = document.querySelector(\"#modal-root\");\n\nexport default function Modal({onToggleMenu,modalImage}) {\n  \n  useEffect(() => {\n    window.addEventListener(\"keydown\", hendleKeyDownEsc);\n    return () => {\n      window.removeEventListener(\"keydown\", hendleKeyDownEsc);\n    }\n  }, [])\n\n const hendleKeyDownEsc = (e) => {\n    if (e.code === \"Escape\") {\n      onToggleMenu();\n    }\n  };\n\n const handleBackdropClick = (e) => {\n    if (e.target === e.currentTarget) {\n      onToggleMenu();\n    }\n  };\n\n    return createPortal(\n      <div className={s.Overlay} onClick={handleBackdropClick}>\n        <div className={s.Modal}>\n          <img\n            className={s.image}\n            src={modalImage}\n            alt=\"LargePhoto\"\n          />\n        </div>\n      </div>,\n      modalRoot\n    );\n  }"," \r\nconst URL = \"https://pixabay.com/api/\";\r\nconst API_KEY = \"24080783-03e8685994000525a28035f2f\";\r\n\r\nfunction fetchPick(queryName, page) {\r\n    return fetch(\r\n        `${URL}?q=${queryName}&key=${API_KEY}&image_type=photo&orientation=horizontal&page=${page}&per_page=12`\r\n    )\r\n        \r\n        .then(response => {\r\n            if (response.status === 404) {\r\n                return Promise.reject(\"Oops, something went wrong\");\r\n            }\r\n           return response.json();     \r\n        });\r\n}\r\n\r\nexport default fetchPick; ","import React, { useState,useEffect } from \"react\";\nimport Searchbar from \"./Searchbar/Searchbar\";\nimport ImageGallery from \"./ImageGallery/ImageGallery\";\nimport Button from \"./Button/Button\";\nimport Modal from \"./Modal/Modal\";\nimport Loader from \"react-loader-spinner\";\nimport fetchPick from \"./fetch\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\n\nexport default function App() {\n  const [arrayList, setArrayList] = useState([]);\n  const [queryName, setQueryName] = useState('');\n  const [page, setPage] = useState(1);\n  const [loading, setLoading] = useState(false);\n  const [showModal, setShowModal] = useState(false);\n  const [largeImg, setLargeImg] = useState('');\n\n  \n  \n  useEffect(() => {\n    if (!queryName) {\n      return\n    }\n  \n    setLoading(true);\n\n    fetchPick(queryName, page)\n      .then((newArray) => {\n        if (newArray.total === 0) {\n          toast.warn(`Ничего не найдено`);\n        } if(newArray) {\n          setArrayList([...arrayList, ...newArray.hits])\n        }\n        if (page>1) {\n           window.scrollTo({ top: document.body.clientHeight, behavior: \"smooth\" });\n        }\n      })\n      .catch((error) => toast.error(\"Oops, something went wrong\"))\n      .finally(() => setLoading(false));\n  }, [page, queryName]);\n\n  \n  const getLargeImageForModal = (data) => {\n    toggleModal();\n    setLargeImg(data);\n  };\n\n  const toggleModal = () => {\n    setShowModal(!showModal);\n  };\n\n  const handleFormSubmit = (data) => {\n    setQueryName(data);\n    setArrayList([]);\n    setPage(1);\n  };\n\n  const handleClikLoadMore = () => {\n    setPage(page + 1);\n  };\n\n    return (\n      <div>\n        <Searchbar onSubmit={handleFormSubmit} />\n        {loading && (\n          <Loader type=\"ThreeDots\" color=\"#00BFFF\" height={100} width={100} />\n        )}\n        {arrayList.length !== 0 && (\n          <ImageGallery\n            modalImageLoad={getLargeImageForModal}\n            arrayQueryList={arrayList}\n            onToggleMenu={toggleModal}\n          />\n        )}\n\n        {arrayList.length !== 0 && (\n          <Button onClick={handleClikLoadMore} />\n        )}\n        {showModal && (\n          <Modal\n            onToggleMenu={toggleModal}\n            modalImage={largeImg}\n          />\n        )}\n        <ToastContainer />\n      </div>\n    );\n  \n}\n\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport \"reset-css\";\nimport App from \"./Components/App\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__23Y_V\",\"SearchForm\":\"Searchbar_SearchForm__1YpyO\",\"SearchFormbutton\":\"Searchbar_SearchFormbutton__1eH-e\",\"SearchFormbuttonlabel\":\"Searchbar_SearchFormbuttonlabel__1Ps3w\",\"SearchForminput\":\"Searchbar_SearchForminput__3Y9DO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__qgr8s\",\"Modal\":\"Modal_Modal__18DJd\",\"image\":\"Modal_image__1rD_T\"};"],"sourceRoot":""}